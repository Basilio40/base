{% extends 'app/base.html' %}
{% load static %}


{% block content %}
<div class="container">
	<div class="form">
		<div class="logo"></div>
	  <form method="GET">
		<h1 style="text-align: center;"> Planta</h1>

		  
        <br>
        <button type="button" class="cta cta1" data-toggle="modal"
         data-target="#exampleModal">
          FILTRAR
        </button>

        <table >

            <tr>
				<th>Arquivo</th>
                <th>Nome</th>
				<th>Data</th>
            </tr>
                    <tr>
                      {% for p in planta %}
                      <td width="20%"><a href="{{p.img.url}}" target="_blank"><i class="fal fa-file"></i></a></td>
                      <td>#</td>
                      <td>#</td>
                      {% endfor %}
            {% for p in planta %}
            <td><button type="button" class="cta cta1" data-toggle="modal" data-target="#ModalDetail">editar</button></td>
            <td><a href="{% url 'remover_planta' id %}"><button type="button" class="cta" style="background-color: red;">deletar</button></a></td>
            </tr>
                {% endfor %}
                </table>
                <br>
                <div>
                  <td><a href="{% url 'planta_baixa' id %}"><button type="button" class="cta" style="background-color: rgb(0, 179, 255);">Adicionar</button></a></td>
                </div>
                 </form>
                  </div>
              </div>
              <br>
              <input type="submit" value="Cadastrar" class="btn-principal">

    
  

<div class="modal fade" id="exampleModal"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background: rgba(68, 70, 79, 0.3)">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="background: rgba(114, 137, 218, 0.3)">
      <div class="modal-header">
        <h5 class="modal-title titulo_filtrar" id="exampleModalLabel" >FILTRAR</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">DATAS</span>
        </button>
      </div>

 
      <div class="modal-body">
        <form action="{% url 'planta_imagens' id %}" method="GET">
			<label>Data inicial</label>
            <input  style="color: aliceblue;" type="date"  class="form-control" name="data_inicial">
            <br>
          <br>
          <input class="btn_filtrar_modal" type="submit" value="FILTRAR">
        </form>
      </div>
      
    </div>
  </div>
</div>

<div class="modal fade" id="ModalDetail"  tabindex="-1" role="dialog" aria-labelledby="ModalDetailLabel" aria-hidden="true" style="background: rgba(68, 70, 79, 0.3)">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="background: rgba(114, 137, 218, 0.3)">
      <div class="modal-header">
        <h5 class="modal-title titulo_filtrar" id="ModalDetailLabel" >EDITAR</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        </button>
      </div>

      <div class="modal-body">
        <form action="{% url 'planta_imagens' id %}" method="POST">{% csrf_token %}
			<label>Editar</label>
          <br>
          {% for p in imagens %}
            <input type="text" value="{{p.descricao}}" name="editar_descricao">
          {% endfor%}
          <br>
          <input class="btn_filtrar_modal" type="submit" value="EDITAR">
        </form>
      </div>
    </div>
  </div>
</div>

<script src="{% static 'js/clientes.js' %}"></script>

<script>
	setTimeout(()=> {
		const splashScreen = document.querySelector('.splash')
		splashScreen.style.opacity = 0
		splashScreen.style.height = 0
	}, 1000)
</script>
<script>
	document.addEventListener('DOMContentLoaded', function() {
	  var elems = document.querySelectorAll('.modal');
	  var instances = M.Modal.init(elems, options);
	});
	  
</script>
{% endblock %}